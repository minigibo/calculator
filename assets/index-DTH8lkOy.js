(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function m(){const t=document.querySelector(".light"),e=document.querySelector(".dark"),n=document.querySelector("body");if(!t||!e||!n)throw new Error("Issue with query selectors");t.addEventListener("click",()=>{n.classList.add("themeLight")}),e.addEventListener("click",()=>{n.classList.remove("themeLight")})}m();const p=document.querySelectorAll(".calculator__button"),x=document.querySelector(".calculator__output"),s=document.querySelector("#previous-operand"),c=document.querySelector("#current-operand");let o="",d=!1;if(!p||!x||!s||!c)throw new Error("issue with the query selectors");const g=t=>{d=!0,setTimeout(()=>{d=!1,c.innerText="",s.innerText=""},t)},T=t=>{const e=o.includes(".");if(o.length+t.length>15||o===""&&t==="%"||o==="0"&&t==="0"||e&&t===".")return;o+=t;const n=u(o);c.innerText=n},h=t=>{const e=t.toString();return e.length>15?t.toExponential():u(e)},u=t=>{if(t==="0"||/^0\d+/.test(t))return t;const e=t.split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},y=()=>{s.innerText="",c.innerText="",o=""},L=()=>{let t=c.innerText.replace(/,/g,"");t=t.slice(0,-1),o=t,t=u(t),c.innerText=t},S=t=>{if(o===""&&t==="+-"||o==="."&&t==="+-")return;const e=c.innerText.replace(/,/g,"");o=(parseFloat(e)*-1).toString(),o=u(o),c.innerText=o},w=t=>{const e=c.innerText.replace(/,/g,"");o==="."&&(t==="/"||t==="*"||t==="+"||t==="-")||e!==""&&(s.innerText=`${e} ${t}`,c.innerText="",o="")},f=t=>{if(o===""&&t==="=")return;const e=parseFloat(s.innerText.replace(/,/g,"")),n=parseFloat(c.innerText.replace(/,/g,"")),l=s.innerText.split(" ")[1];let r;switch(l){case"+":r=e+n;break;case"-":r=e-n;break;case"*":r=e*n;break;case"/":if(n===0){c.innerText="Well done you broke me",g(3e3);return}r=e/n;break;default:throw new Error("Invalid operation")}c.innerText=h(r),s.innerText=""},q=t=>{if(o===""&&t==="%"||o==="."&&t==="%")return;const e=c.innerText.replace(/,/g,"");if(s.innerText){const n=parseFloat(s.innerText.split(" ")[0].replace(/,/g,"")),l=parseFloat(e)/n*100;c.innerText=l.toFixed(2).toString()}else{const n=parseFloat(e)/100;c.innerText=n.toFixed(2).toString()}c.innerText=u(c.innerText)};p.forEach(t=>{t.addEventListener("click",()=>{if(d)return;const e=t.dataset.value;e==="ac"?y():e==="/"||e==="*"||e==="-"||e==="+"?(s.innerText&&c.innerText&&f(`${e}`),w(e)):e==="%"?q(`${e}`):e==="+-"?S(`${e}`):e==="del"?L():e==="="?f(`${e}`):T(`${e}`)})});
